// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/* ============================
   MODELO EMPRESA
============================ */
model Empresa {
  id        Int       @id @default(autoincrement())
  nombre    String
  plan      String    @default("Standard")   // Standard, Pro, Enterprise
  estado    String    @default("activa")     // activa, suspendida, eliminada
  creado_en DateTime  @default(now())

  usuarios  Usuario[]
}

/* ============================
   MODELO USUARIO
============================ */
model Usuario {
  id              Int       @id @default(autoincrement())
  nombre_completo String
  correo          String    @unique
  contrasena      String
  rol             String    @default("user")       // admin, user, etc.
  estado          String    @default("activo")     // activo, suspendido
  ultimo_acceso   DateTime?
  creado_en       DateTime  @default(now())

  empresa_id      Int
  empresa         Empresa   @relation(fields: [empresa_id], references: [id])
}
